# 20200926_Linux_小技巧(持续更新)

_2020-09-26_ _13:24_ 

1. 使用软连接将nginx 作为系统命令。其他软件命令同理
```
ln /usr/local/nginx/sbin/nginx /usr/sbin/nginx
```

2. 查看系统版本

```
cat /etc/issue
```

3. 查看CPU核数
```
cat /proc/cpuinfo |grep "cpu cores"|uniq
```

4. 查看内存
```
cat /proc/meminfo |grep MemTotal
```

5. 定时任务crontab
    1. 当前的定时任务 crontab -l
    2. 编辑定时任务 crontab -e

6. tar 文件分割与合并  

  **分割**

```
split -b 40M -d -a 2 test.tar.gz test.tar.gz.
```
> 参数含义：
> -b：指定每个文件的大小，单位可以为B、K、M ；
> -d：使用数字而不是字母作为后缀名 ；
> -a：后缀名长度，默认为2；

​		**合并**

```
cat test.tar.gz.* > test_new.tar.gz
```

7. 删除find 出来的文件

   ```sh
   find . -name *Test* -type f | xargs rm -f
   ```

   同理，压缩find 出来的文件

   ```shell
   find .name *Test* -type f | xargs zip text.zip
   ```


8. 开机自动挂载

   修改/etc/fstab

   ```
   111.111.111.111:/data /target/data nfs defaults 
   ```
   
9. 查看某个网络相关操作用到的端口

   有个mount nfs 服务一直失败，提示超时之类的，这类错误基本可以确定是网络权限导致的异常了。

   开通nfs 服务常用的2049，111端口之后，还是超时。还有端口没开通？这时用netstat 可以确认哪个端口正在使用

   ```shell
   netstat -an |grep {nfs服务ip}
   ```

   所以，以后遇到有啥服务访问不通时，可以用上述命令检查是何端口导致。

